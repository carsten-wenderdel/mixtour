(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)r=o[u],s[r]&&h.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function r(t){return o.p+"js/"+({}[t]||t)+".js"}function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise(function(e,n){a=s[t]=[e,n]});e.push(a[2]=n);var i,c=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=r(t),i=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+n+": "+i+")");r.type=n,r.request=i,a[1](r)}s[t]=void 0}};var u=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,c.appendChild(l)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2cfa":function(t,e,a){var n=a("3631");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("28edc76f",n,!0,{sourceMap:!1,shadowMode:!1})},"318d":function(t,e,a){"use strict";var n=a("526f"),s=a.n(n);s.a},"34f6":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,"\n@media only screen and (max-width:1200px){\n.sp-hide-mobile[data-v-38c3fa5b]{display:none\n}\n}",""])},3631:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,"\n.small[data-v-62c1e587]{font-size:12px\n}",""])},"526f":function(t,e,a){var n=a("34f6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("066de3f3",n,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(t,e,a){"use strict";a.r(e);a("3959"),a("74bc"),a("345c");var n=a("ba4c"),s=a.n(n),i=a("62fb"),r=a.n(i),o=a("7b3d"),c=a.n(o),l=a("03cd"),u=a.n(l),d=a("bc3a"),h=a.n(d),m=a("4328"),p=a.n(m),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fluid card",staticStyle:{"text-align":"center"}},[a("div",{staticClass:"content"},[t.shortname?a("div",{staticClass:"image",staticStyle:{"margin-bottom":"20px"}},[a("a",{attrs:{href:t.fullPath}},[a("img",{attrs:{src:t.imagePath}})])]):t._e(),a("div",{staticClass:"header"},[a("a",{attrs:{href:t.fullPath}},[t._v(t._s(t.name))])]),a("div",{staticClass:"description"},[t._t("default")],2)]),a("div",{staticClass:"extra content"},[a("div",[a("span",{staticClass:"right floated"},[t._v("\n        "+t._s(t.year)+"\n      ")]),a("span",{staticClass:"left floated"},[a("i",{staticClass:"user icon"}),t._v("\n        "+t._s(t.players)+"\n      ")])])])])},g=[],v={props:{shortname:String,name:String,lang:{type:String,default:document.documentElement.lang},path:{type:String,default:function(){return"de"===this.lang?"/de/apps":"/apps"}},year:String,players:String,ages:String,playable:Boolean},computed:{fullPath:function(){return"".concat(this.path,"/").concat(this.shortname)},imagePath:function(){return"/images/home/small/".concat(this.shortname,".png")}}},b=v,y=a("2877"),_=Object(y["a"])(b,f,g,!1,null,null,null),C=_.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui fluid card",staticStyle:{"text-align":"center"}},[a("div",{staticClass:"content"},[t.shortname?a("div",{staticClass:"image",staticStyle:{"margin-bottom":"20px"}},[a("a",{attrs:{href:t.fullPath}},[a("img",{attrs:{src:t.imagePath}})])]):t._e(),a("div",{staticClass:"header"},[a("a",{attrs:{href:t.fullPath}},[t._v(t._s(t.name))])]),a("div",{staticClass:"description"},[t._t("default")],2)]),a("div",{staticClass:"extra content"},[a("div",[a("span",{staticClass:"right floated"},[t._v("\n        "+t._s(t.year)+"\n      ")]),a("span",{staticClass:"left floated"},[a("i",{staticClass:"user icon"}),t._v("\n        "+t._s(t.players)+"\n      ")])])]),t.playable?a("a",{staticClass:"ui bottom attached play button",attrs:{href:"/challenges/new?game="+t.shortname}},[t._v("\n    Play\n  ")]):t._e()])},S=[],x=(a("1b80"),{props:{shortname:String,name:String,lang:{type:String,default:document.documentElement.lang},path:{type:String,default:function(){return"de"===this.lang?"/de/spiele":"/games"}},year:String,players:String,ages:String,playable:Boolean,aiMethod:String,aiMin:Number,aiMax:Number,aiFactor:Number},computed:{fullPath:function(){return"".concat(this.path,"/").concat(this.shortname)},imagePath:function(){return"/images/home/small/".concat(this.shortname,".png")}}}),k=x,I=Object(y["a"])(k,w,S,!1,null,null,null),M=I.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui fluid card",staticStyle:{"text-align":"center"}},[a("div",{staticClass:"content"},[a("div",{staticClass:"image",staticStyle:{"margin-bottom":"20px"}},[a("a",{attrs:{href:t.fullPath}},[a("img",{staticClass:"ui tiny circular image",attrs:{src:"/users/"+t.shortname+"/avatar"}})])]),a("div",{staticClass:"header"},[a("a",{attrs:{href:t.fullPath}},[t._v(t._s(t.shortname))])]),a("div",{staticClass:"description"},[t.online?a("div",[a("div",{staticClass:"ui animated infinite heartBeat green empty circular label"}),t._v("\n        online\n      ")]):a("div",[a("div",{staticClass:"ui empty circular label"}),t._v("\n        offline\n      ")]),t._t("default")],2)]),t.challenge?a("div",{staticClass:"ui two bottom attached buttons"},[a("a",{class:"ui blue icon "+(t.self?"disabled":"")+" button",staticStyle:{width:"25%"},attrs:{href:"/messages/new/"+t.shortname}},[a("i",{staticClass:"envelope icon"})]),a("a",{class:"ui icon "+(t.self?"disabled":"")+" button",staticStyle:{width:"75%"},attrs:{href:"/challenges/new?user="+t.shortname}},[a("i",{staticClass:"bolt icon"}),t._v("Challenge\n    ")])]):t._e()])},P=[],A={props:{self:Boolean,online:Boolean,challenge:Boolean,userId:String,shortname:String,lang:{type:String,default:document.documentElement.lang},path:{type:String,default:function(){return"de"===this.lang?"/de/users":"/users"}}},computed:{fullPath:function(){return"".concat(this.path,"/").concat(this.shortname)}}},E=A,$=Object(y["a"])(E,O,P,!1,null,null,null),j=$.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"ui link card",attrs:{href:"/matches/"+t.matchId}},[a("div",{staticClass:"content",style:t.finished?"background-color: #F8F8F8":t.yourTurn?"background-color: #F0FFF0":""},[a("h3",{staticClass:"header",staticStyle:{"margin-bottom":"-5px"}},[a("div",{staticStyle:{float:"right","margin-left":".5em",color:"#333","font-weight":"normal","font-size":"12px"}},[t._v("#"+t._s(t.shortMatchId))]),""===t.game.name?a("i",{staticClass:"cog loading icon",staticStyle:{color:"#333"}}):a("span",[t._v(t._s(t.game.name))])]),a("div",{style:(0==t.variant.no?"visibility: hidden; ":"")+"color: #333; font-size: 12px; margin-bottom: 5px"},[t._v(t._s(t.variant.name))]),a("div",[a(t.board,{tag:"component",attrs:{variant:t.variant,state:t.state}})],1)]),a("div",{staticClass:"extra content",style:t.finished?"background-color: #EEE":t.yourTurn?"background-color: #DFD":""},[a("div",{staticClass:"ui vertical list"},t._l(t.players,function(e,n){return a("div",{key:"player-"+n,staticClass:"item"},[a("span",[a("img",{staticClass:"ui avatar image",attrs:{src:"/users/"+e.name+"/avatar"}}),a("i",{staticClass:"yellow trophy icon",style:"position: relative; top: 10px; left: -15px; "+(t.hasWon(n)?"":"visibility: hidden"),attrs:{title:t.hasWon(n)?e.name+" has won":""}})]),a("span",{staticStyle:{position:"relative",left:"-15px"}},[t._v(t._s(e.name))]),e.isBot?a("div",{class:"ui basic "+(t.yourTurn?"green":"")+" label",staticStyle:{float:"right"}},[a("i",{staticClass:"signal icon"}),t._v("\n          "+t._s(t.aiLevel)+"\n        ")]):t._e()])}))]),a("div",{class:"ui bottom attached "+(t.finished?"grey":t.yourTurn?"green":"")+" button"},[a("i",{class:(t.yourTurn?"hand point right":"eye")+" icon",staticStyle:{"margin-right":".25em"}}),t.yourTurn?a("span",[t._v("Your turn!")]):a("span",[t._v("View")])])])},D=[],T={props:{token:String,matchId:String,userId:String},data:function(){return{board:"",game:{name:""},variant:{},players:[],aiLevel:-1,currentPlayer:-1,lastAction:{},finished:!1,state:{}}},remote:{update:function(t){var e=this;t.data.matchId===this.matchId&&(this.game=t.data.game,this.variant=t.data.variant,this.board=function(){return a("6e9f")("./".concat(e.game.shortname).concat(e.variant.no>0?"/"+e.variant.shortname:"","/board"))},this.players=t.data.players,this.winner=t.data.winner,this.aiLevel=t.data.aiLevel,this.currentPlayer=t.data.currentPlayer,this.lastAction=t.data.position>0?t.data.actions[t.data.position-1]:null,this.finished=t.data.finished,this.state=t.state)}},mounted:function(){this.$remote.$emit("init",{token:this.token,userId:this.userId,matchId:this.matchId})},computed:{shortMatchId:function(){return this.matchId.slice(0,8)},yourTurn:function(){return!this.finished&&this.currentPlayer>-1&&this.players[this.currentPlayer].id===this.userId}},methods:{hasWon:function(t){return this.winner===t}}},F=T,z=Object(y["a"])(F,L,D,!1,null,null,null),B=z.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("div",{staticStyle:{color:"#CCC","text-align":"center"}},[a("i",{staticClass:"huge cog loading icon"})]):a("div",{staticClass:"ui stackable doubled grid",style:t.fullscreen?"padding: 2em":""},[a("div",{staticClass:"nine wide column"},[a("div",{staticStyle:{width:"100%"}},[a(t.board,{tag:"component",attrs:{"show-coords":"",state:t.state,variant:t.variant,"current-player":t.currentPlayer,"possible-actions":t.possibleActions,"last-action":t.actions.length>0?t.actions[t.position-1]:null,action:t.action},on:{"update:action":function(e){t.action=e}}}),a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"ui basic pointing label",staticStyle:{"font-size":"14px"}},[0===t.request?[t.lastMovePlayer?a("img",{staticClass:"ui avatar image",attrs:{src:"/users/"+t.lastMovePlayer.name+"/avatar"}}):t._e(),t._v("\n              "+t._s(t.lastMoveAction)+"\n            ")]:[a("img",{staticClass:"ui avatar image",attrs:{src:"/users/"+t.players[t.requester].name+"/avatar"}}),1===t.request?[t._v("\n                "+t._s(t.lastMoveAction)+"\n                "),a("div",{staticClass:"ui green label",staticStyle:{"margin-left":".5em"}},[t._v("requests takeback")])]:2===t.request?a("div",{staticClass:"ui blue label",staticStyle:{"margin-left":".5em"}},[t._v("offers draw")]):3===t.request?a("div",{staticClass:"ui red label",staticStyle:{"margin-left":".5em"}},[t._v("requests abort")]):t._e()]],2)])],1)]),a("div",{staticClass:"seven wide column",attrs:{id:"sp-aside"}},[a("a",{staticStyle:{float:"right","font-size":"11px",color:"inherit"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleFullscreen(e)}}},[a("i",{class:(t.fullscreen?"compress":"expand")+" icon"})]),a("h4",{staticClass:"ui header",staticStyle:{margin:"0","border-bottom":"1px solid #DDD"}},[t._v("\n        "+t._s(t.game.name)+" match\n        "),a("a",{staticStyle:{"margin-left":".25em","font-size":"90%",color:"inherit","font-weight":"normal"},attrs:{href:"/matches/"+t.matchId}},[t._v("#"+t._s(t.shortMatchId))])]),a("div",{staticClass:"ui tiny secondary menu",staticStyle:{"margin-top":".5em"}},[a("a",{staticClass:"item",attrs:{href:"/games/"+t.game.shortname}},[a("i",{staticClass:"bookmark outline icon"}),t._v("\n          "+t._s(t.game.name)+"\n          "),0!==t.variant.no?[t._v("/ "+t._s(t.variant.name))]:t._e()],2),t._m(0),t._m(1),t._m(2)]),a("div",{staticClass:"ui two columns grid",staticStyle:{margin:"0",clear:"right"}},t._l(t.players,function(e,n){return a("div",{key:e.id,staticClass:"ui column",staticStyle:{"text-align":"center"}},[a("div",{staticStyle:{"margin-bottom":".5em","white-space":"nowrap"}},[a("a",{attrs:{href:"/users/"+e.name}},[a("img",{staticClass:"ui avatar image",attrs:{src:"/users/"+e.name+"/avatar"}}),t._v("\n              "+t._s(e.name)+"\n              "),e.isBot?a("span",{staticStyle:{"font-size":"10px","margin-left":".25em"}},[t._v("\n                "+t._s(t.aiLevel)+"\n              ")]):t._e()])]),a("div",{staticStyle:{height:"50px"}},[a(t.score,{tag:"component",attrs:{variant:t.variant,state:t.state,seat:n}})],1),-2===t.winner&&n===t.currentPlayer?a("div",{class:"ui pointing "+(e.id===t.userId?"green":"red")+" label"},[t._v("\n            to move\n          ")]):t._e(),t.winner===n?a("div",{staticClass:"ui pointing yellow label"},[a("i",{staticClass:"trophy icon"}),t._v("has won\n          ")]):t._e()])})),a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[-1===t.winner?a("div",{staticClass:"ui pointing label"},[t._v("Match is drawn")]):t._e()]),t.finished?t._e():a("sp-action-input",{attrs:{"allow-comments":!t.opponent.isBot,suggest:t.suggest,"possible-actions":t.possibleActions,action:t.action},on:{"update:suggest":function(e){t.suggest=e},"update:action":function(e){t.action=e},"send:action":t.sendAction}}),a("sp-action-list",{attrs:{collapsed:!t.finished&&!t.opponent.isBot,"user-id":t.userId,players:t.players,actions:t.actions,position:t.position,"last-position":t.lastPosition},on:{"update:position":[function(e){t.position=e},t.updatePosition]}},[a("div",{attrs:{slot:"clock"},slot:"clock"},[a("i",{class:(t.finished?"":"animated infinite heartBeat green")+" clock icon"}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.days>0,expression:"days > 0"}]},[a("span",[t._v(t._s(t.days))]),a("span",{staticStyle:{padding:"0.5em"}},[t._v("day"),1!==t.days?a("span",[t._v("s")]):t._e(),t._v(",")])]),a("span",[t._v(t._s(t.time))])]),t.message?a("div",{class:"ui mini "+t.messageColor+" icon message",attrs:{slot:"message"},slot:"message"},[a("i",{class:"exclamation triangle icon"}),a("div",{staticClass:"content"},[a("span",{domProps:{innerHTML:t._s(t.message)}})])]):t._e(),t.finished?a("div",{attrs:{slot:"stats"},slot:"stats"},[a("table",{staticClass:"ui very basic compact table",staticStyle:{"font-size":"14px"}},[a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.timespan))])])])]),t.isOwnMatch?a("div",{staticStyle:{"text-align":"center"}},[a("a",{staticClass:"ui mini basic button",attrs:{href:"/challenges/new?game="+t.game.shortname+"&user="+t.opponent.name+"&seat="+(t.player+1)}},[a("i",{staticClass:"retweet icon"}),t._v("\n              Rematch\n            ")])]):t._e()]):t._e()]),t.debug?a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.benefit))]):t._e()],1)]),t.debug?a("div",{staticStyle:{"margin-top":"15em"}},[a("pre",{staticClass:"ui segment",staticStyle:{"font-family":"monospace","font-size":"14px","line-height":"17px",height:"500px",overflow:"auto"}},[t._v("      "+t._s(JSON.stringify(t.$data,null,2))+"\n    ")])]):t._e()])},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"right icon item",attrs:{href:"javascript:openModal('rules')"}},[a("i",{staticClass:"book icon"}),a("span",{staticClass:"sp-hide-mobile",staticStyle:{"padding-left":".5em"}},[t._v("Rules")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"icon item",attrs:{href:"javascript:openModal('notation')"}},[a("i",{staticClass:"align left icon"}),a("span",{staticClass:"sp-hide-mobile",staticStyle:{"padding-left":".5em"}},[t._v("Notation")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"icon item",attrs:{href:"javascript:openModal('export')"}},[a("i",{staticClass:"file outline icon"}),a("span",{staticClass:"sp-hide-mobile",staticStyle:{"padding-left":".5em"}},[t._v("Export")])])}],q=(a("5fbb"),a("768b")),R=(a("0c40"),a("66d4")),Y=a.n(R),G={components:{spActionInput:function(){return a.e("chunk-36db34e5").then(a.bind(null,"f415"))},spActionList:function(){return a.e("chunk-71e44400").then(a.bind(null,"3217"))}},props:{token:String,userId:String,matchId:String},data:function(){return{loading:!0,board:"",score:"",fullscreen:!1,suggest:!1,message:"",messageColor:"",game:{},variant:{},actions:[],position:0,lastPosition:0,possibleActions:[],action:{value:"",type:0},players:[],currentPlayer:-1,aiLevel:0,benefit:-1,winner:-1,request:0,requester:0,timer:null,days:0,time:"",createdAt:"",updatedAt:"",finishedAt:"",finished:!1,state:{}}},remote:{update:function(t){var e=this;if(t.data.matchId===this.matchId){if(this.debug&&console.log(JSON.stringify(t)),null===t.state)return void(window.location.href="/matches");var n;if("00000000-0000-0000-0000-000000000000"===t.data.userId||t.data.userId===this.userId)this.game=t.data.game,this.variant=t.data.variant,this.board=function(){return a("6e9f")("./".concat(e.game.shortname).concat(e.variant.no>0?"/"+e.variant.shortname:"","/board"))},this.score=function(){return a("d1c6")("./".concat(e.game.shortname).concat(e.variant.no>0?"/"+e.variant.shortname:"","/score"))},this.players=t.data.players,this.currentPlayer=t.data.currentPlayer,this.aiLevel=t.data.aiLevel,this.benefit=t.data.benefit,this.winner=t.data.winner,this.actions=t.data.actions,this.position=t.data.position,this.lastPosition=t.data.lastPosition,this.possibleActions=t.data.possibleActions[this.player],this.action={value:"",type:0},this.request=t.data.request,this.requester=t.data.requester,this.createdAt=t.data.createdAt,this.updatedAt=t.data.updatedAt,this.finishedAt=t.data.finishedAt,this.finished=t.data.finished,this.state=t.state,this.finished?(this.timer&&this.timer.stop(),n=new Date(Math.abs(new Date(this.finishedAt)-new Date(this.createdAt))),this.days=Math.floor(n/864e5),this.time=n.toUTCString().slice(17,25)):(n=new Date(Math.abs(new Date-new Date(this.createdAt))),this.timer=new Y.a,this.timer.start({startValues:[0,n.getUTCSeconds(),n.getUTCMinutes(),n.getUTCHours(),n/864e5]}),this.timer.addEventListener("secondsUpdated",function(){e.days=e.timer.getTimeValues().days,e.time=e.timer.getTimeValues().toString()})),this.loading=!1}},suggest:function(t){this.matchId===t.data.matchId&&this.userId===t.data.userId&&(this.action={value:t.data.message,type:0},this.suggest=!1)},message:function(t){var e=this;if(this.matchId===t.data.matchId&&this.userId===t.data.userId){var a=t.data.message.split("|"),n=Object(q["a"])(a,2);this.message=n[0],this.messageColor=n[1],this.action.value="",setTimeout(function(){e.message="",e.messageColor=""},3e3)}}},mounted:function(){this.$remote.$emit("init",{token:this.token,userId:this.userId,matchId:this.matchId})},computed:{lastMoveAction:function(){for(var t=this.position-1;t>=0;t--)if(this.actions[t].type<2)return this.actions[t].value;return"to start"},lastMovePlayer:function(){if(0===this.position)return this.players[this.currentPlayer];for(var t=this.position-1;t>=0;t--)if(this.actions[t].type<2)return this.players[this.actions[t].player];return null},isOwnMatch:function(){for(var t=0;t<this.players.length;t++)if(this.players[t].id===this.userId)return!0;return!1},opponent:function(){for(var t=0;t<this.players.length;t++)if(this.players[t].id!==this.userId)return this.players[t];return null},timespan:function(){var t=new Date(this.createdAt),e=new Date(this.finishedAt);if(t.getFullYear()===e.getFullYear()){var a=(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(t.getFullYear(),0,0))/24/60/60/1e3,n=(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-Date.UTC(e.getFullYear(),0,0))/24/60/60/1e3;if(a===n)return t.toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"});if(t.getMonth()===e.getMonth())return String(t.getDate())+" - "+e.toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})}return t.toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})+" - "+e.toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})},debug:function(){return"localhost"===window.location.hostname||"test.spielstein.com"===window.location.hostname},shortMatchId:function(){return this.matchId.slice(0,8)},player:function(){for(var t=0;t<this.players.length;t++)if(this.players[t].id===this.userId)return t;return-1}},methods:{toggleFullscreen:function(){var t=this;this.$fullscreen.toggle(this.$el,{wrap:!0,background:"#FFF",callback:function(e){t.fullscreen=e}})},updatePosition:function(){this.$remote.$emit("position",{matchId:this.matchId,userId:this.userId,position:this.position})},sendAction:function(){"suggest"===this.action.value&&(this.suggest=!0),this.$remote.$emit(0===this.action.type?"action":"comment",{token:this.token,userId:this.userId,matchId:this.matchId,player:this.player,value:this.action.value})}}},V=G,W=(a("318d"),Object(y["a"])(V,U,N,!1,null,"38c3fa5b",null)),J=W.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(t.board,{tag:"component",attrs:{variant:t.variant,state:t.state,marks:t.marks,"show-coords":t.showCoords}})],1)},K=[],Q={props:{game:String,variant:{type:Object,default:function(){return{no:0,name:"Standard",shortname:"standard"}}},state:{type:Object,default:function(){return null}},marks:Object,showCoords:{type:Boolean,default:function(){return!1}}},data:function(){return{board:null}},mounted:function(){var t=this;this.board=function(){return a("6e9f")("./".concat(t.game).concat(t.variant.no>0?"/"+t.variant.shortname:"","/board"))}}},X=Q,Z=(a("f5b5"),Object(y["a"])(X,H,K,!1,null,"4d1d2d00",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui tiny circular labels",staticStyle:{float:"right"}},[a("a",{class:"ui "+(0===t.countIn?"":"red")+" label",staticStyle:{"margin-right":"2px"},attrs:{href:"/challenges"}},[t._v(t._s(t.countIn))]),a("a",{class:"ui "+(0===t.countOut?"":"red")+" label",staticStyle:{"margin-right":"0"},attrs:{href:"/challenges"}},[t._v(t._s(t.countOut))])])},at=[],nt={props:{userId:String},data:function(){return{countIn:0,countOut:0}},mounted:function(){this.$remote.$emit("challenges-count",{userId:this.userId})},remote:{updateChallengesCount:function(t){if(this.userId===t.data.userId){var e=t.data.message.split(";");this.countIn=parseInt(e[0]),this.countOut=parseInt(e[1])}}}},st=nt,it=Object(y["a"])(st,et,at,!1,null,null,null),rt=it.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui tiny circular labels",staticStyle:{float:"right"}},[a("a",{class:"ui "+(0===t.countIn?"":"red")+" label",staticStyle:{"margin-right":"2px"},attrs:{href:"/messages"}},[t._v(t._s(t.countIn))]),a("a",{class:"ui "+(0===t.countOut?"":"red")+" label",staticStyle:{"margin-right":"0"},attrs:{href:"/messages"}},[t._v(t._s(t.countOut))])])},ct=[],lt={props:{userId:String},data:function(){return{countIn:0,countOut:0}},mounted:function(){this.$remote.$emit("messages-count",{userId:this.userId})},remote:{updateMessagesCount:function(t){if(this.userId===t.data.userId){var e=t.data.message.split(";");this.countIn=parseInt(e[0]),this.countOut=parseInt(e[1])}}}},ut=lt,dt=Object(y["a"])(ut,ot,ct,!1,null,null,null),ht=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"ui tiny grey circular label",attrs:{href:"/users/"+t.username+"/matches/finished"}},[t._v(t._s(t.count))])},pt=[],ft={props:{userId:String,username:String},data:function(){return{count:0}},mounted:function(){this.$remote.$emit("match-archive-count",{userId:this.userId})},remote:{updateMatchArchiveCount:function(t){this.userId===t.data.userId&&(this.count=parseInt(t.data.message))}}},gt=ft,vt=Object(y["a"])(gt,mt,pt,!1,null,null,null),bt=vt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui left icon action input"},[a("i",{staticClass:"lock icon"}),a("input",{attrs:{name:t.name,type:t.hidden?"password":"text",value:"",autofocus:t.autofocus,autocorrect:"off",autocapitalize:"off",autocomplete:t.auto+"-password"}}),a("a",{staticClass:"ui icon button",on:{click:function(e){t.hidden=!t.hidden}}},[a("i",{class:"eye "+(t.hidden?"slash":"")+" icon"})])])},_t=[],Ct={props:{autofocus:{type:Boolean,default:function(){return!1}},name:{type:String,default:function(){return"password"}},auto:{type:String,default:function(){return"new"}}},data:function(){return{hidden:!0}}},wt=Ct,St=Object(y["a"])(wt,yt,_t,!1,null,null,null),xt=St.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("vue-clip",{attrs:{options:t.options,"on-sending":t.sending,"on-complete":t.complete}},[a("template",{slot:"clip-uploader-action"},[a("img",{staticClass:"ui small avatar uploader-action image",attrs:{id:"avatar",src:"/users/"+t.shortname+"/avatar"}}),a("form",{attrs:{action:"/users/"+t.shortname+"/edit/avatar/delete",method:"POST"}},[a("input",{attrs:{type:"hidden",name:"csrf"},domProps:{value:t.csrf}}),a("button",{staticClass:"ui mini circular icon button",staticStyle:{position:"absolute",left:"66%",top:"0"}},[a("i",{staticClass:"trash alternate outline icon"})])])])],2)],1)},It=[],Mt={props:{shortname:String,csrf:String},data:function(){return{options:{url:"/users/".concat(this.shortname,"/edit/avatar"),paramName:"image",uploadMultiple:!1,maxFiles:1,maxFilesize:{limit:1,message:"Image file size bigger than {{ maxFilesize }} MB"},acceptedFiles:{extensions:["image/*"],message:"You are uploading an invalid file"}}}},methods:{sending:function(t,e,a){a.append("csrf",this.csrf)},complete:function(t,e,a){window.location.reload()}}},Ot=Mt,Pt=(a("ad71"),Object(y["a"])(Ot,kt,It,!1,null,"0683abd3",null)),At=Pt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{attrs:{href:"https://boardgamegeek.com/"+this.type+"/"+this.id+"/"+this.name,target:"boardgamegeek"}},[a("img",{staticClass:"ui middle aligned mini avatar image",attrs:{src:"/images/icons/bgg-new.jpg"}})]),a("a",{attrs:{href:"https://boardgamegeek.com/"+this.type+"/"+this.id+"/"+this.name,target:"boardgamegeek"}},[t._v("\n    BoardGameGeek\n  ")])])},$t=[],jt={props:{type:{type:String,default:"boardgame"},id:String,name:String}},Lt=jt,Dt=Object(y["a"])(Lt,Et,$t,!1,null,null,null),Tt=Dt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("figure",[a("div",{staticClass:"image",style:"max-width: "+this.width},[t.src?[a("img",{attrs:{src:t.src}})]:t._e(),t._t("image")],2),a("figcaption",["de"===t.lang?a("span",{staticClass:"label"},[t._v("Abbildung "+t._s(t.n))]):a("span",{staticClass:"label"},[t._v("Figure "+t._s(t.n))]),a("span",{staticClass:"dot"},[t._v("·")]),a("span",{staticClass:"text"},[t._t("default",[a("span",{staticStyle:{color:"red"}},[t._v("((Missing caption))")])])],2)])])},zt=[],Bt={props:{n:String,src:String,lang:{type:String,default:function(){return document.documentElement.lang}},width:{type:String,default:function(){return"100%"}}}},Ut=Bt,Nt=(a("81b3"),Object(y["a"])(Ut,Ft,zt,!1,null,"4c8d0d6a",null)),qt=Nt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"license"},["de"==t.lang?[a("h3",[t._v("Lizenz")]),a("p",[t._v("Dieses Werk ist lizenziert unter einer Creative Commons Lizenz (Namensnennung, nicht-kommerziell "+t._s(t.version)+", international).")]),a("p",{staticClass:"small"},[a("a",{attrs:{rel:"license",href:t.ccURL,target:"_blank"}},[a("img",{staticStyle:{height:"30px","margin-right":"10px"},attrs:{src:t.ccLogoImage}}),a("img",{staticStyle:{height:"30px"},attrs:{src:t.ccByImage}}),a("img",{staticStyle:{height:"30px"},attrs:{src:t.ccNcEuImage}})]),a("br"),a("a",{attrs:{rel:"license",href:t.ccURL,target:"_blank"}},[t._v(t._s(t.ccReadableURL))])]),a("p",{staticClass:"small"},[t._v("Das bedeutet, dass diese Regeln frei kopiert und benutzt werden dürfen. Allerdings müssen\n      "),1==t.designers.length?[t._v("der Name des Autors ("+t._s(t.designers[0])+")")]:[t._v("die Namen der Autoren ("),t._l(t.designers,function(e,a){return[t._v(t._s(e)),a==t.designers.length-2?[t._v(" und ")]:t._e()]}),t._v(")")],t._v("\n      und ein Link auf die Website (spielstein.com) bei einer Veröffentlichung angegeben werden.\n    ")],2),a("p",{staticClass:"small"},[t._v("Eine kommerzielle Verwendung ist, sofern nicht anders vereinbart, untersagt.")])]:[a("h3",[t._v("License")]),a("p",[t._v("This work is licensed under a"),a("br"),t._v("Creative Commons Attribution-Noncommercial "+t._s(t.version)+" International License.")]),a("p",{staticClass:"small"},[a("a",{attrs:{rel:"license",href:t.ccURL,target:"_blank"}},[a("img",{staticStyle:{height:"30px","margin-right":"10px"},attrs:{src:t.ccLogoImage}}),a("img",{staticStyle:{height:"30px"},attrs:{src:t.ccByImage}}),a("img",{staticStyle:{height:"30px"},attrs:{src:t.ccNcImage}})]),a("br"),a("a",{attrs:{rel:"license",href:t.ccURL,target:"_blank"}},[t._v(t._s(t.ccReadableURL))])]),a("p",{staticClass:"small"},[t._v("\n      This means that you are free to copy and use these rules, but you must include the\n      "),1==t.designers.length?[t._v("designer's name ("+t._s(t.designers[0])+")")]:[t._v("designers' names ("),t._l(t.designers,function(e,a){return[t._v(t._s(e)),a==t.designers.length-2?[t._v(" and ")]:t._e()]}),t._v(")")],t._v("\n      and a link back to the website (spielstein.com) if you publish them.\n    ")],2),a("p",{staticClass:"small"},[t._v("Unless otherwise agreed, commercial use is disallowed.")])]],2)},Yt=[],Gt={props:{version:{type:String,default:"4.0"},type:{type:String,default:"by-nc"},designers:{type:Array,default:function(){return["Dieter Stein"]}},lang:{type:String,default:document.documentElement.lang}},data:function(){return{ccURL:"//creativecommons.org/licenses/".concat(this.type,"/").concat(this.version,"/"),ccReadableURL:"creativecommons.org/licenses/".concat(this.type,"/").concat(this.version),ccImage:"/images/cc/".concat(this.type,"/88x31.png"),ccLogoImage:"/images/cc/cc.logo.svg",ccByImage:"/images/cc/by.svg",ccNcImage:"/images/cc/nc.svg",ccNcEuImage:"/images/cc/nc-eu.svg"}}},Vt=Gt,Wt=(a("eee4"),Object(y["a"])(Vt,Rt,Yt,!1,null,"62c1e587",null)),Jt=Wt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},["youtube"==t.site?[a("iframe",{attrs:{width:t.width,height:.5625*t.width,src:"https://www.youtube-nocookie.com/embed/"+t.id+"?rel=0",frameborder:"0",allowfullscreen:""}})]:"vimeo"==t.site?[a("iframe",{attrs:{src:"https://player.vimeo.com/video/"+t.id,width:t.width,height:.5625*t.width,frameborder:"0",allowfullscreen:""}})]:t._e()],2)},Kt=[],Qt={props:{width:{type:Number,default:640},site:{type:String,default:"youtube"},id:String}},Xt=Qt,Zt=(a("5f6f"),Object(y["a"])(Xt,Ht,Kt,!1,null,"b91e0688",null)),te=Zt.exports;s.a.config.productionTip=!1,s.a.use(c.a),s.a.use(u.a),"spielstein.com"===window.location.hostname?s.a.use(r.a,{secure:!0,host:window.location.hostname,port:443,endpoint:"ws"}):"test.spielstein.com"===window.location.hostname?s.a.use(r.a,{secure:!1,host:window.location.hostname,port:80,endpoint:"ws"}):s.a.use(r.a,{secure:!1,host:window.location.hostname,port:61707,endpoint:"ws"}),new s.a({components:{spFieldPassword:xt,spUpload:At,spCounterChallenges:rt,spCounterMessages:ht,spCounterMatchArchive:bt,spBgg:Tt,spCardApp:C,spCardGame:M,spCardUser:j,spMatch:J,spCardMatch:B,spFigure:qt,spLicense:Jt,spVideo:te,spBoard:tt},methods:{handleChallenge:function(t,e,a){h.a.post("/challenges/"+String(t)+"/"+e,p.a.stringify({csrf:a})).then(function(t){window.location.href=t.data}).catch(function(t){p.a.stringify({error:t})})}}}).$mount("main")},"5f6f":function(t,e,a){"use strict";var n=a("9469"),s=a.n(n);s.a},"640e":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,"\ndiv[data-v-4d1d2d00]{pointer-events:none;cursor:auto\n}",""])},"6e9f":function(t,e,a){var n={"./abande/board":["0f34","chunk-c6f2b1e8"],"./attangle/board":["426c","chunk-8980c2f6"],"./attangle/grand/board":["605a","chunk-4b1f8059"],"./attangle/mini/board":["69ef","chunk-0d970060"],"./fabrik/arbeiter/board":["2f3c","chunk-2f40029e"],"./fabrik/board":["4ab9","chunk-3d4e266a"],"./fendo/board":["515e","chunk-0acf81b0"],"./manalath/board":["18a2","chunk-7064317c"],"./mixtour/board":["3271","chunk-2abbe1ca"],"./ordo/board":["974f","chunk-1ab56acc"],"./paletto/board":["98a8","chunk-84901668"],"./polar/board":["3fe8","chunk-4a3651c4"],"./rincala/board":["f492","chunk-6abd1dd7"],"./sparks/board":["7b6d","chunk-a9639a14"],"./spindizzy/board":["095e","chunk-8128826a"],"./spire/board":["7adc","chunk-30eb87b9"],"./tintas/board":["5353","chunk-1315200b"],"./tintas/tintasia/board":["7c47","chunk-20437832"],"./topla/board":["da76","chunk-289c4640"],"./urbino/board":["02be","chunk-aad56bda"],"./urbino/monuments/board":["60ed","chunk-2c444537"]};function s(t){var e=n[t];return e?a.e(e[1]).then(function(){var t=e[0];return a(t)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}s.keys=function(){return Object.keys(n)},s.id="6e9f",t.exports=s},"714f":function(t,e,a){var n=a("b644");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("f170008c",n,!0,{sourceMap:!1,shadowMode:!1})},"80f9":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,"\n.wrap[data-v-b91e0688]{position:relative;padding-bottom:56.25%;padding-top:25px;height:0\n}\n.wrap iframe[data-v-b91e0688]{position:absolute;top:0;left:0;width:100%;height:100%\n}",""])},"81b3":function(t,e,a){"use strict";var n=a("714f"),s=a.n(n);s.a},8501:function(t,e,a){var n=a("ee73");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("2f19a991",n,!0,{sourceMap:!1,shadowMode:!1})},9469:function(t,e,a){var n=a("80f9");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("47c7fa6a",n,!0,{sourceMap:!1,shadowMode:!1})},ad08:function(t,e,a){var n=a("640e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("4738c55d",n,!0,{sourceMap:!1,shadowMode:!1})},ad71:function(t,e,a){"use strict";var n=a("8501"),s=a.n(n);s.a},b644:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,"\nfigure[data-v-4c8d0d6a]{border-left:1px solid #ccc;padding:0 20px 0 20px;margin:30px 20px 40px 25px\n}\nfigure .image[data-v-4c8d0d6a]{margin-bottom:10px\n}\nfigure figcaption[data-v-4c8d0d6a]{line-height:120%;font-size:90%;color:#6e6e6e;padding:0;margin:0\n}\nfigure figcaption .label[data-v-4c8d0d6a]{font-weight:700\n}\nfigure figcaption .dot[data-v-4c8d0d6a]{margin:0 .25em\n}",""])},d1c6:function(t,e,a){var n={"./abande/score":["7f60","chunk-7e4f9f3a"],"./attangle/grand/score":["4488","chunk-c3368072"],"./attangle/mini/score":["d989","chunk-0abb03f0"],"./attangle/score":["9393","chunk-0bb5f20a"],"./fabrik/arbeiter/score":["5f2d","chunk-01b67bcf"],"./fabrik/score":["a44f","chunk-7754f6b6"],"./fendo/score":["087c","chunk-4e573a88"],"./manalath/score":["1aed","chunk-59fca8c0"],"./mixtour/score":["16d5","chunk-2d0abe2c"],"./paletto/score":["1f54","chunk-b344cfba"],"./polar/score":["0a3b","chunk-648cd534"],"./rincala/score":["4b20","chunk-2744e30e"],"./tintas/score":["5b2a","chunk-ee07125a"],"./topla/score":["f72b","chunk-495205f0"],"./urbino/monuments/score":["2725","chunk-3bfb2d6a"],"./urbino/score":["83dc","chunk-0eebb4f9"]};function s(t){var e=n[t];return e?a.e(e[1]).then(function(){var t=e[0];return a(t)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}s.keys=function(){return Object.keys(n)},s.id="d1c6",t.exports=s},ee73:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,"\n#avatar[data-v-0683abd3]{background-color:#fff;cursor:pointer\n}",""])},eee4:function(t,e,a){"use strict";var n=a("2cfa"),s=a.n(n);s.a},f5b5:function(t,e,a){"use strict";var n=a("ad08"),s=a.n(n);s.a}});
//# sourceMappingURL=app.js.map